{"ast":null,"code":"import { LOAD_PRODUCTS, SET_LISTVIEW, SET_GRIDVIEW, UPDATE_SORT, SORT_PRODUCTS, UPDATE_FILTERS, FILTER_PRODUCTS, CLEAR_FILTERS } from '../actions';\n\nconst filter_reducer = (state, action) => {\n  if (action.type === LOAD_PRODUCTS) {\n    let maxPrice = action.payload.map(p => p.price);\n    maxPrice = Math.max(...maxPrice);\n    return { ...state,\n      all_products: [...action.payload],\n      filtered_products: [...action.payload]\n    };\n  }\n\n  if (action.type === SET_GRIDVIEW) {\n    return { ...state,\n      grid_view: true\n    };\n  }\n\n  if (action.type === SET_LISTVIEW) {\n    return { ...state,\n      grid_view: false\n    };\n  }\n\n  if (action.type === UPDATE_SORT) {\n    return { ...state,\n      sort: action.payload\n    };\n  }\n\n  if (action.type === SORT_PRODUCTS) {\n    const {\n      sort,\n      filtered_products\n    } = state;\n    let tempProducts = [...filtered_products];\n\n    if (sort === 'price-lowest') {\n      tempProducts = tempProducts.sort((a, b) => a.price - b.price);\n    }\n\n    if (sort === 'price-highest') {\n      tempProducts = tempProducts.sort((a, b) => b.price - a.price);\n    }\n\n    if (sort === 'name-a') {\n      tempProducts = tempProducts.sort((a, b) => {\n        return a.name.localeCompare(b.name);\n      });\n    }\n\n    if (sort === 'name-z') {\n      tempProducts = tempProducts.sort((a, b) => {\n        return b.name.localeCompare(a.name);\n      });\n    }\n\n    return { ...state,\n      filtered_products: tempProducts\n    };\n  }\n\n  throw new Error(`No Matching \"${action.type}\" - action type`);\n};\n\nexport default filter_reducer;","map":{"version":3,"sources":["C:/Users/Gabi/Desktop/niki-store/src/reducers/filter_reducer.js"],"names":["LOAD_PRODUCTS","SET_LISTVIEW","SET_GRIDVIEW","UPDATE_SORT","SORT_PRODUCTS","UPDATE_FILTERS","FILTER_PRODUCTS","CLEAR_FILTERS","filter_reducer","state","action","type","maxPrice","payload","map","p","price","Math","max","all_products","filtered_products","grid_view","sort","tempProducts","a","b","name","localeCompare","Error"],"mappings":"AAAA,SACEA,aADF,EAEEC,YAFF,EAGEC,YAHF,EAIEC,WAJF,EAKEC,aALF,EAMEC,cANF,EAOEC,eAPF,EAQEC,aARF,QASO,YATP;;AAWA,MAAMC,cAAc,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACxC,MAAGA,MAAM,CAACC,IAAP,KAAgBX,aAAnB,EAAiC;AAC/B,QAAIY,QAAQ,GAAGF,MAAM,CAACG,OAAP,CAAeC,GAAf,CAAoBC,CAAD,IAAMA,CAAC,CAACC,KAA3B,CAAf;AACAJ,IAAAA,QAAQ,GAAGK,IAAI,CAACC,GAAL,CAAU,GAAGN,QAAb,CAAX;AACA,WAAO,EAAE,GAAGH,KAAL;AAAYU,MAAAA,YAAY,EAAE,CAAC,GAAGT,MAAM,CAACG,OAAX,CAA1B;AAA8CO,MAAAA,iBAAiB,EAAC,CAAC,GAAGV,MAAM,CAACG,OAAX;AAAhE,KAAP;AACD;;AACD,MAAGH,MAAM,CAACC,IAAP,KAAgBT,YAAnB,EAAgC;AAC9B,WAAO,EAAE,GAAGO,KAAL;AAAYY,MAAAA,SAAS,EAAC;AAAtB,KAAP;AACD;;AACD,MAAGX,MAAM,CAACC,IAAP,KAAgBV,YAAnB,EAAgC;AAC9B,WAAO,EAAE,GAAGQ,KAAL;AAAYY,MAAAA,SAAS,EAAC;AAAtB,KAAP;AACD;;AACD,MAAGX,MAAM,CAACC,IAAP,KAAeR,WAAlB,EAA8B;AAC5B,WAAO,EAAE,GAAGM,KAAL;AAAYa,MAAAA,IAAI,EAACZ,MAAM,CAACG;AAAxB,KAAP;AACD;;AACD,MAAGH,MAAM,CAACC,IAAP,KAAgBP,aAAnB,EAAiC;AAC/B,UAAM;AAACkB,MAAAA,IAAD;AAAOF,MAAAA;AAAP,QAA4BX,KAAlC;AACA,QAAIc,YAAY,GAAG,CAAE,GAAGH,iBAAL,CAAnB;;AACA,QAAGE,IAAI,KAAK,cAAZ,EAA2B;AACvBC,MAAAA,YAAY,GAAGA,YAAY,CAACD,IAAb,CAAkB,CAACE,CAAD,EAAGC,CAAH,KAAOD,CAAC,CAACR,KAAF,GAAUS,CAAC,CAACT,KAArC,CAAf;AACH;;AACD,QAAGM,IAAI,KAAK,eAAZ,EAA4B;AAC1BC,MAAAA,YAAY,GAAGA,YAAY,CAACD,IAAb,CAAkB,CAACE,CAAD,EAAGC,CAAH,KAAOA,CAAC,CAACT,KAAF,GAAUQ,CAAC,CAACR,KAArC,CAAf;AACD;;AACD,QAAGM,IAAI,KAAK,QAAZ,EAAqB;AACnBC,MAAAA,YAAY,GAAGA,YAAY,CAACD,IAAb,CAAkB,CAACE,CAAD,EAAGC,CAAH,KAAO;AACtC,eAAOD,CAAC,CAACE,IAAF,CAAOC,aAAP,CAAqBF,CAAC,CAACC,IAAvB,CAAP;AACD,OAFc,CAAf;AAGD;;AACD,QAAGJ,IAAI,KAAK,QAAZ,EAAqB;AACnBC,MAAAA,YAAY,GAAGA,YAAY,CAACD,IAAb,CAAkB,CAACE,CAAD,EAAGC,CAAH,KAAO;AACtC,eAAOA,CAAC,CAACC,IAAF,CAAOC,aAAP,CAAqBH,CAAC,CAACE,IAAvB,CAAP;AACD,OAFc,CAAf;AAGD;;AACD,WAAM,EAAE,GAAGjB,KAAL;AAAYW,MAAAA,iBAAiB,EAAEG;AAA/B,KAAN;AACD;;AAED,QAAM,IAAIK,KAAJ,CAAW,gBAAelB,MAAM,CAACC,IAAK,iBAAtC,CAAN;AACD,CAtCD;;AA0CA,eAAeH,cAAf","sourcesContent":["import {\n  LOAD_PRODUCTS,\n  SET_LISTVIEW,\n  SET_GRIDVIEW,\n  UPDATE_SORT,\n  SORT_PRODUCTS,\n  UPDATE_FILTERS,\n  FILTER_PRODUCTS,\n  CLEAR_FILTERS,\n} from '../actions'\n\nconst filter_reducer = (state, action) => {\n  if(action.type === LOAD_PRODUCTS){\n    let maxPrice = action.payload.map((p)=> p.price);\n    maxPrice = Math.max( ...maxPrice)\n    return { ...state, all_products: [...action.payload],filtered_products:[...action.payload]}\n  }\n  if(action.type === SET_GRIDVIEW){\n    return { ...state, grid_view:true}\n  }\n  if(action.type === SET_LISTVIEW){\n    return { ...state, grid_view:false}\n  }\n  if(action.type=== UPDATE_SORT){\n    return { ...state, sort:action.payload}\n  }\n  if(action.type === SORT_PRODUCTS){\n    const {sort, filtered_products} = state;\n    let tempProducts = [ ...filtered_products];\n    if(sort === 'price-lowest'){\n        tempProducts = tempProducts.sort((a,b)=>a.price - b.price)\n    }\n    if(sort === 'price-highest'){\n      tempProducts = tempProducts.sort((a,b)=>b.price - a.price)\n    }\n    if(sort === 'name-a'){\n      tempProducts = tempProducts.sort((a,b)=>{\n        return a.name.localeCompare(b.name)\n      })\n    }\n    if(sort === 'name-z'){\n      tempProducts = tempProducts.sort((a,b)=>{\n        return b.name.localeCompare(a.name)\n      })\n    }\n    return{ ...state, filtered_products: tempProducts}\n  }\n\n  throw new Error(`No Matching \"${action.type}\" - action type`)\n}\n\n\n\nexport default filter_reducer\n"]},"metadata":{},"sourceType":"module"}